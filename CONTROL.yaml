# BassCodeBase Quality Configuration
# Generated by /new snapctrl --interview --export basscodebase

project:
  name: snapctrl
  description: Native desktop controller for Snapcast multi-room audio
  language: python
  ci_platform: github
  version: 0.1.0

quality:
  # Paths to include in quality checks
  paths:
    - src
    - tests

  # Test coverage requirements
  coverage:
    enforce: true          # Start with observe mode, change to true to enforce
    line: 85               # Target line coverage
    branch: 75             # Target branch coverage (slightly lower)
    exclude:
      - "*/ui/resources/*"
      - "*/__main__.py"

  # Complexity limits
  complexity:
    enforce: true
    mccabe:
      warn: 8              # Warn if cyclomatic complexity > 8
      fail: 12             # Fail if > 12
    func_loc:
      warn: 25             # Warn if function > 25 LOC
      fail: 30             # Fail if > 30 LOC

  # Type checking
  types:
    enforce: true
    tool: basedpyright
    strict: true           # Use strict mode
    ignore:
      - "tests/*"          # Tests may be less strict

  # Linting rules
  lint:
    tool: ruff
    select:
      - A      # flake8-builtins
      - ARG    # unused arguments
      - B      # flake8-bugbear
      - C4     # comprehensions
      - E      # pycodestyle errors
      - F      # pyflakes
      - I      # isort
      - N      # pep8-naming
      - PL     # pylint
      - PT     # pytest style
      - RET    # return
      - SIM    # simplify
      - UP     # pyupgrade
      - W      # warnings
    ignore:
      - PLR0913  # too-many-arguments
      - TRY003   # long-spec-messages
    per_file_ignores:
      "tests/**/*.py":
        - S        # bandit (tests use assert)
        - ARG      # unused args ok in fixtures

# Platform targets
platforms:
  windows:
    python: "3.11"
    package: exe
  macos:
    python: "3.11"
    package: app
  linux:
    python: "3.11"
    package: appimage

# Development workflow
workflow:
  branch_protection:
    require_pr: true
    require_status_checks: true
    required_checks:
      - lint
      - typecheck
      - test

  commit_convention:
    enabled: true
    types:
      - feat      # New feature
      - fix       # Bug fix
      - docs      # Documentation
      - refactor  # Refactoring
      - test      # Tests
      - chore     # Maintenance
