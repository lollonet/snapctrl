# REQ-014: App Preferences

**ID:** REQ-014
**Domain:** UI/UX
**Status:** Draft
**Priority:** P1 (Important)

## Description

The application MUST provide a preferences dialog that allows users to configure connection settings, appearance, local snapclient, monitoring intervals, and MPD integration — replacing hardcoded defaults with user-controlled values.

## Acceptance Criteria

- [ ] Preferences dialog accessible from toolbar (gear icon or menu)
- [ ] **Connection:** server host, port, auto-connect on startup
- [ ] **Appearance:** theme selection (Dark / Light / System)
- [ ] **Local Snapclient:** enable toggle, binary path, auto-start, extra CLI args
- [ ] **Monitoring:** ping interval (default 15s), time stats polling interval (default 15s)
- [ ] **MPD:** host, port (default 6600), poll interval (default 2s)
- [ ] All settings persisted via QSettings (ConfigManager)
- [ ] Changes apply immediately where possible (theme, intervals) without restart
- [ ] Input validation with sensible defaults and ranges

## Implementation Notes

- Extend existing `ConfigManager` (`src/snapctrl/core/config.py`) — already stores profiles and snapclient settings via QSettings
- Modal `QDialog` with tab or section layout for each category
- Connection and snapclient settings already have backend storage — just need UI
- Theme, monitoring intervals, and MPD settings need new ConfigManager properties
- Hardcoded values to replace: `__main__.py:354` (ping 15s), `__main__.py:375` (time stats 15s), `mpd_monitor.py:33` (MPD poll 2s), `__main__.py:403` (MPD port 6600)
