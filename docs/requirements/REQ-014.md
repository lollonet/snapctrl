# REQ-014: App Preferences

**ID:** REQ-014
**Domain:** UI/UX
**Status:** Done
**Priority:** P1 (Important)

## Description

The application MUST provide a preferences dialog that allows users to configure connection settings, appearance, local snapclient, monitoring intervals, and MPD integration — replacing hardcoded defaults with user-controlled values.

## Acceptance Criteria

- [x] Preferences dialog accessible from status bar gear icon and system tray menu
- [x] **Connection:** server host, port (read-only), auto-connect on startup
- [x] **Appearance:** theme selection (Dark / Light / System) with live preview
- [x] **Local Snapclient:** enable toggle, binary path with browse, auto-start, extra CLI args
- [x] **Monitoring:** ping interval (5-120s, default 15s), time stats polling interval (5-120s, default 15s)
- [x] **MPD:** host, port (default 6600), poll interval (1-30s, default 2s)
- [x] All settings persisted via QSettings (ConfigManager)
- [x] Changes apply immediately (theme, ping interval, time stats interval, snapclient config) without restart
- [x] Input validation with sensible defaults and clamped ranges

## Implementation Notes

- Extend existing `ConfigManager` (`src/snapctrl/core/config.py`) — already stores profiles and snapclient settings via QSettings
- Modal `QDialog` with tab or section layout for each category
- Connection and snapclient settings already have backend storage — just need UI
- Theme, monitoring intervals, and MPD settings need new ConfigManager properties
- Hardcoded values to replace: `__main__.py:354` (ping 15s), `__main__.py:375` (time stats 15s), `mpd_monitor.py:33` (MPD poll 2s), `__main__.py:403` (MPD port 6600)
